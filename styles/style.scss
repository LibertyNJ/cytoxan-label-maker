@import 'config';
@import 'fonts';

/* Base */

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

/* Layout */

.label {
  display: flex;
  height: 5.125in;
  width: 3.125in;

  footer {
    margin: .05in .125in 0 .125in;

    section {
      margin: .02in 0;
    }
  }

  header {
    border-bottom: 1px solid black;
    font: 7pt/1.15 sans-serif;
    margin: 0 .125in .05in .125in;
  }

  section {
    margin: .02in .125in;
  }

  &-body {
    height: 5in;
    margin: auto;
    overflow: hidden;
    padding: .0625in 0;
    width: 3in;
  }

  .lower-half {
    height: 1.9375in;
    margin-top: .0625in;
  }

  .upper-half {
    height: 3in;
    margin-bottom: .0625in;
  }
}

/* Module */

.flex-row {
  display: flex;
  justify-content: space-between;
}

.label {
  color: black;
  font: 8pt/1.3 sans-serif;
  margin: 0 auto;

  &-checker,
  &-filler,
  &-verifier {
    margin-top: .1in;
  }

  &-compounding-notice {
    border: 1px solid black;
    font: bold 10pt/1.25 sans-serif;
    letter-spacing: .05em;
    text-align: center;
  }

  &-drug,
  &-drug-diluent,
  &-drug-rate,
  &-expiration-datetime,
  &-drug-frequency,
  &-hospital-name,
  &-patient-name {
    font-weight: bold;
  }

  &-hospital-name {
    text-align: center;
  }

  &-patient-name {
    text-transform: capitalize;
  }

  &-total-volume {
    text-align: right;
  }
}

/* State */

.hidden {
  display: none;
}

@media screen {

  /* Base */

  a {
    &:link {
      color: $color-primary;
    }

    &:visited {
      color: $color-text-link-visited;
    }

    &:hover {
      color: $color-text-link-hover;
    }

    &:active {
      color: $color-text-link-visited;
    }
  }

  address {
    color: $color-text-invert;
    font: 1rem/#{$vertical-rhythm} 'Montserrat', sans-serif;
    margin: #{.5 * $vertical-rhythm}rem #{$vertical-rhythm}rem;
    text-align: right;
  }

  button {
    color: var(--northwell-gray);
    font: bold 1rem/#{$vertical-rhythm} 'Montserrat', sans-serif;
    margin: 0 auto;
    padding: #{.5 * $vertical-rhythm}rem;
  }

  fieldset {
    padding: #{.5 * $vertical-rhythm}rem;
    margin-bottom: #{$vertical-rhythm}rem;
    width: max-content;
  }

  html {
    color: $color-text;
    font-size: 112.5%;
  }

  h1 {
    color: $color-primary;
    font: bold 2.058rem/#{$vertical-rhythm} 'Montserrat', sans-serif;
    margin: auto auto;
    text-align: center;
    }

  h2 {
    color: $color-primary;
    font: 1.825rem/1.75 'Montserrat', sans-serif;
    }

  h3 {
    color: $color-text;
    font: 1.618rem/1.75 'Montserrat', sans-serif;
  }

  h4 {
    color: $color-accent;
    font: 1.435rem/1.75 'Montserrat', sans-serif;
  }

  .field-units {
    font-family: 'Montserrat', sans-serif;
  }

  input,
  textarea {
    font: 1rem/#{$vertical-rhythm} 'Montserrat', sans-serif;
    margin-bottom: #{.5 * $vertical-rhythm}rem;
    padding: 0 .25em;
    }

  select {
    font: 1rem/#{$vertical-rhythm} 'Montserrat', sans-serif;
    margin-bottom: #{.5 * $vertical-rhythm}rem;
    padding: .2em .25em;
    }

  label {
    font: italic 1rem/#{$vertical-rhythm} 'Montserrat', sans-serif;
  }

  legend {
    color: $color-accent;
    font: 1.128rem/1.3 'Montserrat', sans-serif;
  }

  li {
    margin-left: 1em;
  }

  nav {
    a {
      &:visited {
        color: $color-text-link;
      }

      &:hover {
        color: $color-text-link-hover;
      }

      &:active {
        color: $color-text-link-visited;
      }
    }

    ul {
      list-style: none;
    }
  }

  .help {
    ol,
    p,
    ul {
      font: 1rem/#{$vertical-rhythm} 'Montserrat', sans-serif;
      margin-bottom: #{$vertical-rhythm}rem;
      max-width: 33em;
    }
  }

  /* Layout */

  #label {
    &-information {
      grid-area: form;
    }

    &-preview {
      grid-area: preview;
      height: auto;
      position: sticky;
      top: 0;
    }
  }

  body {
    display: grid;
    gap: #{$vertical-rhythm}rem;
    grid: "header header header  header" auto
          ".      form   preview .     " auto
          ".      form   .       .     " 1fr
          "footer footer footer  footer" auto
        / #{$vertical-rhythm}rem 2fr 1fr #{$vertical-rhythm}rem;
    min-height: 100vh;

    >footer {
      align-items: center;
      align-self: end;
      background: $color-background-invert;
      display: flex;
      grid-area: footer;
      height: #{3 * $vertical-rhythm}rem;
      justify-content: space-between;
    }

    >header {
      grid-area: header;
      height: #{2 * $vertical-rhythm}rem;
    }

    &.help {
      display: grid;
      gap: #{$vertical-rhythm}rem;
      grid: "header header header  header" auto
            ".      aside  main    .     " auto
            ".      .      main    .     " 1fr
            "footer footer footer  footer" auto
        / #{$vertical-rhythm}rem 1fr 2fr #{$vertical-rhythm}rem;
      min-height: 100vh;

      >main {
        grid-area: main;
      }

      >aside {
        grid-area: aside;
        position: sticky;
        top: 0;
      }
    }
  }

  /* Module */

  #copies {
      width: 3em;
  }

  #help {
    float: right;
    margin-right: #{2 * $vertical-rhythm}rem;

    button {
      background: linear-gradient($color-accent, $color-primary);
      border: 1px outset $color-accent;
      color: $color-text-invert;

      &:hover {
        border: 1px inset $color-primary;
      }

      &:active {
        background: linear-gradient($color-primary, $color-accent);
        border: 1px inset $color-accent;
      }
    }
  }

  #label-row {
    display: flex;
    justify-content: space-between;
  }

  #logo {
    display: block;
    height: #{2 * $vertical-rhythm}rem;
    margin-left: #{$vertical-rhythm}rem;
  }

  #patient {
    &-middle-initial {
      width: 2em;
    }

    &-mrn {
      width: 6em;
    }
  }

  .drug {
    &-infusion-time,
    &-strength {
      text-align: right;
      width: 5em;
    }
  }

  .form {
    &__control {
      margin: 0 #{.5 * $vertical-rhythm}rem;

      >label {
        display: block;
      }
    }

    &__control-toggle {
      display: block;
      margin: 0 #{.5 * $vertical-rhythm}rem;
    }

    &-row {
      display: flex;
      justify-content: start;
    }
  }

  .label {
    background: gray;
    border: 1px solid black;
    margin: 0 #{.25 * $vertical-rhythm}rem;

    &-body {
      background: pink;
      border: 1px solid black;
      border-radius: .125in;
    }

    .upper-half {
      border-bottom: 1px dashed gray;
    }

    .lower-half {
      border-top: 1px dotted gray;
    }
  }

  /* State */

  .hidden {
    display: none;
  }
}

@media print {
  h2,
  body>header,
  body>footer,
  #label-information {
    display: none;
  }

  .label {
    page-break-after: always;
  }

  @page {
    margin: 0;
  }
}